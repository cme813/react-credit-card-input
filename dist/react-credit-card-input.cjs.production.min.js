"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var n=require("react"),r=e(n),a=e(require("payment")),t=e(require("credit-card-type")),i=e(require("@emotion/styled"));function I(){return(I=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function M(e,n){return n||(n=e.slice(0)),e.raw=n,e}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}var g=/(\d{1,4})/g,l=[{type:"amex",format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,startPattern:/^3[47]/,maxCardNumberLength:15,cvcLength:4},{type:"dankort",format:g,startPattern:/^5019/,maxCardNumberLength:16,cvcLength:3},{type:"hipercard",format:g,startPattern:/^(384100|384140|384160|606282|637095|637568|60(?!11))/,maxCardNumberLength:19,cvcLength:3},{type:"dinersclub",format:g,startPattern:/^(36|38|30[0-5])/,maxCardNumberLength:14,cvcLength:3},{type:"discover",format:g,startPattern:/^(6011|65|64[4-9]|622)/,maxCardNumberLength:16,cvcLength:3},{type:"jcb",format:g,startPattern:/^35/,maxCardNumberLength:16,cvcLength:3},{type:"laser",format:g,startPattern:/^(6706|6771|6709)/,maxCardNumberLength:19,cvcLength:3},{type:"maestro",format:g,startPattern:/^(5018|5020|5038|6304|6703|6708|6759|676[1-3])/,maxCardNumberLength:19,cvcLength:3},{type:"mastercard",format:g,startPattern:/^(5[1-5]|677189)|^(222[1-9]|2[3-6]\d{2}|27[0-1]\d|2720)/,maxCardNumberLength:16,cvcLength:3},{type:"unionpay",format:g,startPattern:/^62/,maxCardNumberLength:19,cvcLength:3,luhn:!1},{type:"visaelectron",format:g,startPattern:/^4(026|17500|405|508|844|91[37])/,maxCardNumberLength:16,cvcLength:3},{type:"elo",format:g,startPattern:/^(4011(78|79)|43(1274|8935)|45(1416|7393|763(1|2))|50(4175|6699|67[0-7][0-9]|9000)|627780|63(6297|6368)|650(03([^4])|04([0-9])|05(0|1)|4(0[5-9]|3[0-9]|8[5-9]|9[0-9])|5([0-2][0-9]|3[0-8])|9([2-6][0-9]|7[0-8])|541|700|720|901)|651652|655000|655021)/,maxCardNumberLength:16,cvcLength:3},{type:"visa",format:g,startPattern:/^4/,maxCardNumberLength:19,cvcLength:3}],c=function(e){return l.filter((function(n){return n.startPattern.test(e)}))[0]},N=function(e,n){var r=function(e){return l.filter((function(n){return n.type===e}))[0]}(e);return r?n>=r.cvcLength:n>=3},d=function(){return"Range"===window.getSelection().type},o={placeholder:"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTc2IDM3NyIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4gICAgICAgIDx0aXRsZT5wbGFjZWhvbGRlcjwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9InBsYWNlaG9sZGVyIj4gICAgICAgICAgICA8cGF0aCBkPSJNNTI3LjkzMzc5MywzNzYuOTk4MjggTDQ4LjA2NjIwNjksMzc2Ljk5ODI4IEMzNS40MjM0ODAzLDM3Ny4xMDM5NjggMjMuMjU2NTg2NCwzNzIuMTg3ODkgMTQuMjQyMzI4MSwzNjMuMzMxNjE4IEM1LjIyODA2OTc1LDM1NC40NzUzNDYgMC4xMDQ5MTcxMDIsMzQyLjQwNDQwNyAwLDMyOS43NzQ0OTQgTDAsNDcuMjI1NDU1NCBDMC4xMDQ5MTcxMDIsMzQuNTk1NTQyNSA1LjIyODA2OTc1LDIyLjUyNDYwNCAxNC4yNDIzMjgxLDEzLjY2ODMzMTkgQzIzLjI1NjU4NjQsNC44MTIwNTk4NSAzNS40MjM0ODAzLC0wLjEwNDAxODI5NiA0OC4wNjYyMDY5LDAuMDAxNjY5NDg2NDYgTDUyNy45MzM3OTMsMC4wMDE2Njk0ODY0NiBDNTQwLjU3NjUyLC0wLjEwNDAxODI5NiA1NTIuNzQzNDE0LDQuODEyMDU5ODUgNTYxLjc1NzY3MiwxMy42NjgzMzE5IEM1NzAuNzcxOTMsMjIuNTI0NjA0IDU3NS44OTUwODMsMzQuNTk1NTQyNSA1NzYsNDcuMjI1NDU1NCBMNTc2LDMyOS45NzI5MTMgQzU3NS42NzI3ODYsMzU2LjE5NTY2MyA1NTQuMTg0MjczLDM3Ny4yMTg4NTcgNTI3LjkzMzc5MywzNzYuOTk4MjggWiIgaWQ9InNoYXBlIiBmaWxsPSIjRThFQkVFIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4gICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBzdHJva2U9IiM3NTc1NzUiIHN0cm9rZS13aWR0aD0iMjAiIHg9IjQxOCIgeT0iNTgiIHdpZHRoPSI5MSIgaGVpZ2h0PSI2MyIgcng9IjMwIj48L3JlY3Q+ICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS0yIiBmaWxsPSIjNzU3NTc1IiB4PSI1MyIgeT0iMjA4IiB3aWR0aD0iMTA3IiBoZWlnaHQ9IjQwIiByeD0iOCI+PC9yZWN0PiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtMiIgZmlsbD0iIzc1NzU3NSIgeD0iNDEzIiB5PSIyMDgiIHdpZHRoPSIxMDciIGhlaWdodD0iNDAiIHJ4PSI4Ij48L3JlY3Q+ICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS0yIiBmaWxsPSIjNzU3NTc1IiB4PSIyOTMiIHk9IjIwOCIgd2lkdGg9IjEwNyIgaGVpZ2h0PSI0MCIgcng9IjgiPjwvcmVjdD4gICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLTIiIGZpbGw9IiM3NTc1NzUiIHg9IjE3MyIgeT0iMjA4IiB3aWR0aD0iMTA3IiBoZWlnaHQ9IjQwIiByeD0iOCI+PC9yZWN0PiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+",visa:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1NzZweCIgaGVpZ2h0PSIzNzlweCIgdmlld0JveD0iMCAwIDU3NiAzNzkiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+dmlzYTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9InZpc2EiIGZpbGwtcnVsZT0ibm9uemVybyI+ICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzI2MzM3QSIgeD0iMCIgeT0iMCIgd2lkdGg9IjU3NiIgaGVpZ2h0PSIzNzkiIHJ4PSI1MiI+PC9yZWN0PiAgICAgICAgICAgIDxwb2x5bGluZSBpZD0iRmlsbC0zIiBmaWxsPSIjRkZGRkZFIiBwb2ludHM9IjIyMSAyNjggMjQyLjU1MTE5MyAxMTEgMjc3IDExMSAyNTUuNDUwNzc5IDI2OCAyMjEgMjY4Ij48L3BvbHlsaW5lPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zOTQuNTIxOTgxLDExNy4zNzIyMjkgQzM4Ny4wNDE1NTcsMTE0LjMyNDA1NiAzNzUuMjc2NzEzLDExMSAzNjAuNjIwOTY4LDExMSBDMzIzLjIxNjY4MywxMTEgMjk2Ljg4Njk3NSwxMzEuNjEwNDk0IDI5Ni42Njg0MjcsMTYxLjEyMzI2OSBDMjk2LjQzMDQwMywxODIuOTUzOTI5IDMxNS40NTcxMjMsMTk1LjEyODY3OCAzMjkuODAxMjc0LDIwMi4zODQ2MzEgQzM0NC41NDM1NzQsMjA5LjgyMjI2MyAzNDkuNDk2NjIzLDIxNC41ODE4MDggMzQ5LjQzODE5OSwyMjEuMjMyMTY0IEMzNDkuMzM2NDk5LDIzMS40MDM5NTUgMzM3LjY3MTE5MSwyMzYuMDY0ODEyIDMyNi43OTM1MjUsMjM2LjA2NDgxMiBDMzExLjY0NjU4NywyMzYuMDY0ODEyIDMwMy41OTkyMzQsMjMzLjc3MDI3MiAyOTEuMTU3MTA1LDIyOC4xMDAwODcgTDI4Ni4yOTA2MTEsMjI1LjY4MjE4MyBMMjgxLDI1OS42Nzg2MiBDMjg5LjgyMjAxLDI2My45MDg4MjkgMzA2LjE3NjM3NywyNjcuNTgwNTQ0IDMyMy4xNDk2MDQsMjY3Ljc3MzQzOCBDMzYyLjkwMTY2NCwyNjcuNzczNDM4IDM4OC43MzE1MjIsMjQ3LjQxMTkxIDM4OS4wMzQ0NjIsMjE1Ljg5NjE4IEMzODkuMTcwNzg1LDE5OC41ODUwNjggMzc5LjA4OTQxNCwxODUuNDYzNzkzIDM1Ny4yNTYxODMsMTc0LjYzMDMzMiBDMzQ0LjAzNTA3LDE2Ny41ODc0NTkgMzM1LjkyMDYzOCwxNjIuOTIyMTE3IDMzNi4wMTM2ODMsMTU1Ljc5NDAxMiBDMzM2LjAyMjMzOSwxNDkuNDgyMzQzIDM0Mi44Njg3NTUsMTQyLjcyNDMyNiAzNTcuNjg2NzksMTQyLjcyNDMyNiBDMzcwLjA2MTgzOSwxNDIuNTE3OTc0IDM3OS4wMjAxNzEsMTQ1LjQ3NDE4NyAzODYuMDAwNzQ2LDE0OC41NjA0ODkgTDM4OS4zOTc5ODgsMTUwLjI5NjUzNSBMMzk0LjUyMTk4MSwxMTcuMzcyMjI5IiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZFIj48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTQ0OC4zNTgwMTIsMjEyLjI0NDQ0NCBDNDUxLjU4ODczMSwyMDMuMjE0NDE1IDQ2My44ODczMDgsMTY4LjMzMDk0IDQ2My44ODczMDgsMTY4LjMzMDk0IEM0NjMuNjU5ODg4LDE2OC43NDYyNDYgNDY3LjEwMDE4OSwxNTkuMjMxMzA2IDQ2OS4wNjg5NDIsMTUzLjM0Mjc2MSBMNDcxLjY5OTg5NCwxNjYuODkyNDQ2IEM0NzEuNjk5ODk0LDE2Ni44OTI0NDYgNDc5LjE4MDI2NSwyMDQuMzkwNzMyIDQ4MC43MjA5MzIsMjEyLjI0NDQ0NCBMNDQ4LjM1ODAxMiwyMTIuMjQ0NDQ0IFogTTQ5Ni40NTA4OTIsMTExIEw0NjYuMzI0MjgyLDExMSBDNDU2Ljk3OTk0OSwxMTEgNDQ5Ljk4NTYzNSwxMTMuNzc5NTQyIDQ0NS44OTIwNTQsMTI0LjAyMzAxIEwzODgsMjY4IEw0MjguOTQ0NzIxLDI2OCBDNDI4Ljk0NDcyMSwyNjggNDM1LjYyNDY1OSwyNDguNjMxMzc3IDQzNy4xNDA4MDEsMjQ0LjM4MDg2IEM0NDEuNjA2NzI2LDI0NC4zODA4NiA0ODEuMzkyMDQ2LDI0NC40NjIwNjUgNDg3LjA3MDg4NiwyNDQuNDYyMDY1IEM0ODguMjM5MjA2LDI0OS45NDQ1ODIgNDkxLjgxNzc0NCwyNjggNDkxLjgxNzc0NCwyNjggTDUyOCwyNjggTDQ5Ni40NTA4OTIsMTExIFoiIGlkPSJGaWxsLTUiIGZpbGw9IiNGRkZGRkUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMTg5Ljk1NTA2OCwxMTEgTDE1MS4xMjExNDYsMjE4LjIxOTk2NSBMMTQ2Ljk2MTU4NCwxOTYuNDI0Nzk3IEMxMzkuNzI0OSwxNzEuMzEyOTczIDExNy4xOTc5MTIsMTQ0LjA5NDU2MSA5MiwxMzAuNDU2MzIzIEwxMjcuNTI3NjA0LDI2OCBMMTY5LjUxODA3MywyNjcuOTc0NDUyIEwyMzIsMTExIEwxODkuOTU1MDY4LDExMSIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZGRkZGRSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMTMuOTE4NTUxLDExMSBMNDcuNTQ2MTM4LDExMSBMNDcsMTE0LjMxNDUzMyBDOTguNjQ1NDgwNiwxMjcuNTY1NTc5IDEzMi44MTY4NTUsMTU5LjU1MDk0MyAxNDcsMTk4IEwxMzIuNTc2NzQzLDEyNC40OTY3NDEgQzEzMC4wODg1MTMsMTE0LjM1OTQyIDEyMi44NTY4NzQsMTExLjM1NDM3IDExMy45MTg1NTEsMTExIiBpZD0iRmlsbC03IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8L2c+ICAgIDwvZz48L3N2Zz4=",mastercard:"data:image/svg+xml;base64,PHN2ZyBmb2N1c2FibGU9ImZhbHNlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAyMSI+ICA8ZyBpZD0iUGFnZS0xIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICA8ZyBpZD0ibWFzdGVyY2FyZCI+ICAgICAgPGcgaWQ9ImNhcmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMikiPiAgICAgICAgPHBhdGggaWQ9InNoYXBlIiBmaWxsPSIjMDAzNjYzIiBkPSJNMjYuNTggMTlIMi40MkEyLjQgMi40IDAgMCAxIDAgMTYuNjJWMi4zOEEyLjQgMi40IDAgMCAxIDIuNDIgMGgyNC4xNkEyLjQgMi40IDAgMCAxIDI5IDIuMzh2MTQuMjVBMi40IDIuNCAwIDAgMSAyNi41OCAxOXoiLz4gICAgICAgIDxjaXJjbGUgaWQ9InNoYXBlIiBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iNi41IiBmaWxsPSIjRUIxQzI2Ii8+ICAgICAgICA8Y2lyY2xlIGlkPSJzaGFwZSIgY3g9IjE4LjUiIGN5PSI5LjUiIHI9IjYuNSIgZmlsbD0iI0Y5OUYxQiIvPiAgICAgICAgPHBhdGggaWQ9InNoYXBlIiBmaWxsPSIjRUY1RDIwIiBkPSJNMTQuNSA0LjM4YTYuNDkgNi40OSAwIDAgMCAwIDEwLjI0IDYuNDkgNi40OSAwIDAgMCAwLTEwLjI0eiIvPiAgICAgIDwvZz4gICAgPC9nPiAgPC9nPjwvc3ZnPg==",amex:"data:image/svg+xml;base64,PHN2ZyBmb2N1c2FibGU9ImZhbHNlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAyMSI+ICA8ZyBpZD0iUGFnZS0xIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICA8ZyBpZD0iYW1leCI+ICAgICAgPGcgaWQ9ImNhcmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xIDIpIj4gICAgICAgIDxwYXRoIGlkPSJzaGFwZSIgZmlsbD0iIzFEOTFDRSIgZD0iTTI3LjU4IDE5SDMuNDJBMi40IDIuNCAwIDAgMSAxIDE2LjYyVjIuMzhBMi40IDIuNCAwIDAgMSAzLjQyIDBoMjQuMTZBMi40IDIuNCAwIDAgMSAzMCAyLjM4djE0LjI1QTIuNCAyLjQgMCAwIDEgMjcuNTggMTl6Ii8+ICAgICAgICA8cG9seWxpbmUgaWQ9InNoYXBlIiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjUuMDYzIDExLjg5NiA0LjU5MSAxMyAuMzYgMTMgMy42OTkgNiAxMS42NzQgNiAxMi40NzkgNy41NDYgMTMuMjMxIDYgMTYuMDY0IDYgMTcuNDkyIDYgMjMuOTgzIDYgMjQuOTAyIDYuOTYxIDI1Ljg4OSA2IDMwLjg4MiA2IDI3LjMzNyA5LjQ5MiAzMC43MjkgMTMgMjUuODk3IDEzIDI0LjgxNiAxMS45NjkgMjMuNzQ0IDEzIDE3LjQ5MiAxMyAxNi4wNjQgMTMgNi40OTYgMTMgNS45NzcgMTEuODk2Ii8+ICAgICAgICA8cGF0aCBpZD0ic2hhcGUiIGZpbGw9IiMxRDkxQ0UiIGQ9Ik01Ljk4IDExLjk3aC0uOTIuOTJ6TTE2LjIgN2gtMi4xbC0xLjU4IDMuMzVMMTAuODIgN2gtMi4xdjQuODVMNi41NSA3SDQuNThsLTIuMzIgNWgxLjQybC40Ny0xLjE0aDIuN0w3LjM5IDEySDEwVjcuOTNMMTEuODUgMTJoMS4yMmwxLjg0LTR2NGgxLjI5Vjd6bTguNjcgMS42MkwyMy4zNyA3aC02LjAydjVIMjMuMTdsMS42NS0xLjY0TDI2LjQ4IDEyaDEuNTVsLTIuMzctMi41M0wyOC4xIDdoLTEuNjJsLTEuNjEgMS42MnpNMjEuNyAxMWgtMy4wNlY5LjloMy4wNlY4LjloLTMuMDZWOGgzLjA2di0uODVsMi4yNyAyLjI3LTIuMjcgMi4yOFYxMXpNNS41MyA3LjgybC44OCAyLjAzSDQuNThsLjk1LTIuMDN6Ii8+ICAgICAgPC9nPiAgICA8L2c+ICA8L2c+PC9zdmc+"},s=/^(\d{2})\/(\d{4}|\d{2})$/,C=/(0[1-9]|1[0-2])/,D=function(e,n){void 0===n&&(n={});var r=e.split("/");if(!s.test(e))return n.invalidExpiryDate||"Expiry date is invalid";var a=r[0];if(!C.test(a))return n.monthOutOfRange||"Expiry month must be between 01 and 12";var t=r[1],i=new Date,I=i.getFullYear(),M=i.getMonth()+1;return(I=parseInt(4===t.length?I.toString():I.toString().substr(-2),10))>parseInt(t,10)?n.yearOutOfRange||"Expiry year cannot be in the past":parseInt(t,10)===I&&parseInt(a,10)<M&&(n.dateOutOfRange||"Expiry date cannot be in the past")},j=function(e){return/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(e)};function p(){var e=M(["\n  font-size: 0.8rem;\n  margin: 5px 0 0 0;\n  color: ",";\n"]);return p=function(){return e},e}function y(){var e=M(["\n  align-items: center;\n  display: ",";\n  margin-left: 0.5em;\n  position: relative;\n  transition: transform 0.5s;\n  transform: translateX(",");\n\n  &::after {\n    content: attr(data-max);\n    visibility: hidden;\n    height: 0;\n  }\n\n  & .credit-card-input {\n    border: 0px;\n    position: absolute;\n    width: 100%;\n    font-size: 1em;\n\n    &:focus {\n      outline: 0px;\n    }\n  }\n\n  & .zip-input {\n    display: ",";\n  }\n"]);return y=function(){return e},e}function m(){var e=M(["\n  height: 1em;\n"]);return m=function(){return e},e}function A(){var e=M(["\n  display: flex;\n  align-items: center;\n  position: relative;\n  background-color: white;\n  padding: 10px;\n  border-radius: 3px;\n  overflow: hidden;\n\n  &.is-invalid {\n    border: 1px solid ",";\n  }\n"]);return A=function(){return e},e}function T(){var e=M(["\n  display: inline-block;\n"]);return T=function(){return e},e}var x=i.div(T()),z=i.div(A(),(function(e){return e.theme.colors.red[500]})),L=i.img(m()),v=i.label(y(),(function(e){return e.isActive?"flex":"none"}),(function(e){return e.translateX?"4rem":"0"}),(function(e){return e.isZipActive?"flex":"none"})),h=i.p(p(),(function(e){return e.theme.colors.red[500]})),E={mastercard:"MASTERCARD",visa:"VISA",amex:"AMERICAN_EXPRESS"},b=function(e){return r.createElement(e.inputComponent||"input",Object.assign({},e.props))},f=function(e){var n,i;function M(n){var i;return(i=e.call(this,n)||this).componentDidMount=function(){i.setState({cardNumber:i.cardNumberField.value},(function(){var e=a.fns.cardType(i.state.cardNumber),n=i.images;i.setState({cardImage:n[e]||n.placeholder})}))},i.isMonthDashKey=function(e){var n=void 0===e?{}:e,r=n.key;return!n.target.value.match(/[/-]/)&&/^[/-]$/.test(r)},i.checkIsNumeric=function(e){/^\d*$/.test(e.key)||e.preventDefault()},i.handleCardNumberBlur=function(e){var n=(void 0===e?{onBlur:null}:e).onBlur;return function(e){var r=i.props.customTextLabels;a.fns.validateCardNumber(e.target.value)||i.setFieldInvalid(r.invalidCardNumber||"Card number is invalid","cardNumber");var t=i.props.cardNumberInputProps;t.onBlur&&t.onBlur(e),n&&n(e)}},i.handleCardNumberChange=function(e){var n=(void 0===e?{onChange:null}:e).onChange;return function(e){var r=i.props,I=r.customTextLabels,M=r.enableZipInput,g=r.cardNumberInputProps,l=i.images,N=e.target.value,d=N.split(" ").join("").length,o=a.fns.cardType(N),s=(t.getTypeInfo(t.types[i.CARD_TYPES[o]])||{}).lengths||[16];if(i.cardNumberField.value=function(e){var n=c(e);if(!n)return(e.match(/\d+/g)||[]).join("");var r=n.format;if(r.global)return e.match(r).join(" ");var a=r.exec(e.split(" ").join(""));return a?a.splice(1,3).filter((function(e){return e})).join(" "):e}(N),i.setState({cardImage:l[o]||l.placeholder,cardNumber:N}),M&&i.setState({showZip:d>=6}),i.setFieldValid(),s)for(var C,D=s[s.length-1],j=function(e,n){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return u(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,void 0):void 0}}(e))){r&&(e=r);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}(s);!(C=j()).done;){if(C.value===d&&a.fns.validateCardNumber(N)){i.cardExpiryField.focus();break}d===D&&i.setFieldInvalid(I.invalidCardNumber||"Card number is invalid","cardNumber")}g.onChange&&g.onChange(e),n&&n(e)}},i.handleCardNumberKeyPress=function(e){var n,r,a=e.target.value;i.checkIsNumeric(e),a&&!d()&&(n=a.split(" ").join("").length,(r=c(a))&&n>=r.maxCardNumberLength&&e.preventDefault())},i.handleCardExpiryBlur=function(e){var n=(void 0===e?{onBlur:null}:e).onBlur;return function(e){var r=i.props.customTextLabels,a=e.target.value.split(" / ").join("/"),t=D(a,r.expiryError);t&&i.setFieldInvalid(t,"cardExpiry");var I=i.props.cardExpiryInputProps;I.onBlur&&I.onBlur(e),n&&n(e)}},i.handleCardExpiryChange=function(e){var n=(void 0===e?{onChange:null}:e).onChange;return function(e){var r=i.props.customTextLabels;i.cardExpiryField.value=function(e){var n=e.nativeEvent&&e.nativeEvent.data,r=e.target.value.split(" / ").join("/");if(!r)return null;var a=r;if(/^[2-9]$/.test(a)&&(a="0"+a),2===r.length&&+r>12&&(a="0"+r[0]+"/"+r.slice(1).join("")),/^1[/-]$/.test(a))return"01 / ";if(1===(a=a.match(/(\d{1,2})/g)||[]).length){if(!n&&r.includes("/"))return a[0];if(/\d{2}/.test(a))return a[0]+" / "}if(a.length>2){var t=a.join("").match(/^(\d{2}).*(\d{2})$/)||[];return[t[1],t[2]].join(" / ")}return a.join(" / ")}(e);var a=i.cardExpiryField.value.split(" / ").join("/");i.setFieldValid();var t=D(a,r.expiryError);a.length>4&&(t?i.setFieldInvalid(t,"cardExpiry"):i.cvcField.focus());var I=i.props.cardExpiryInputProps;I.onChange&&I.onChange(e),n&&n(e)}},i.handleCardExpiryKeyPress=function(e){var n=e.target.value;i.isMonthDashKey(e)||i.checkIsNumeric(e),n&&!d()&&n.split(" / ").join("").length>=4&&e.preventDefault()},i.handleCardCVCBlur=function(e){var n=(void 0===e?{onBlur:null}:e).onBlur;return function(e){var r=i.props.customTextLabels;a.fns.validateCardCVC(e.target.value)||i.setFieldInvalid(r.invalidCvc||"CVC is invalid","cardCVC");var t=i.props.cardCVCInputProps;t.onBlur&&t.onBlur(e),n&&n(e)}},i.handleCardCVCChange=function(e){var n=(void 0===e?{onChange:null}:e).onChange;return function(e){var r=i.props.customTextLabels,t=(e.target.value.match(/\d+/g)||[]).join("");i.cvcField.value=t;var I=t,M=I.length,u=i.props.enableZipInput&&i.state.showZip,g=a.fns.cardType(i.state.cardNumber);i.setFieldValid(),M>=4&&(a.fns.validateCardCVC(I,g)||i.setFieldInvalid(r.invalidCvc||"CVC is invalid","cardCVC")),u&&N(g,M)&&i.zipField.focus();var l=i.props.cardCVCInputProps;l.onChange&&l.onChange(e),n&&n(e)}},i.handleCardCVCKeyPress=function(e){var n=a.fns.cardType(i.state.cardNumber),r=e.target.value;if(i.checkIsNumeric(e),r&&!d()){var t=r.split(" / ").join("").length;N(n,t)&&e.preventDefault()}},i.handleCardZipBlur=function(e){var n=(void 0===e?{onBlur:null}:e).onBlur;return function(e){var r=i.props.customTextLabels;j(e.target.value)||i.setFieldInvalid(r.invalidZipCode||"Zip code is invalid","cardZip");var a=i.props.cardZipInputProps;a.onBlur&&a.onBlur(e),n&&n(e)}},i.handleCardZipChange=function(e){var n=(void 0===e?{onChange:null}:e).onChange;return function(e){var r=i.props.customTextLabels,a=e.target.value,t=a.length;i.setFieldValid(),t>=5&&!j(a)&&i.setFieldInvalid(r.invalidZipCode||"Zip code is invalid","cardZip");var I=i.props.cardZipInputProps;I.onChange&&I.onChange(e),n&&n(e)}},i.handleCardZipKeyPress=function(e){a.fns.cardType(i.state.cardNumber);var n=e.target.value;i.checkIsNumeric(e),n&&!d()&&n.split(" / ").join("").length>=5&&e.preventDefault()},i.handleKeyDown=function(e){return function(n){8!==n.keyCode||n.target.value||e.focus()}},i.setFieldInvalid=function(e,n){var r=i.props,a=r.invalidClassName,t=r.onError;if(document.getElementById("field-wrapper").classList.add(a),i.setState({errorText:e}),n){var I=i.props[n+"InputProps"].onError;I&&I(e)}t&&t({inputName:n,error:e})},i.setFieldValid=function(){var e=i.props.invalidClassName;document.getElementById("field-wrapper").classList.remove(e),i.setState({errorText:null})},i.render=function(){var e=i.state,n=e.errorText,a=e.showZip,t=i.props,M=t.cardCVCInputProps,u=t.cardZipInputProps,g=t.cardExpiryInputProps,l=t.cardNumberInputProps,c=t.cardCVCInputRenderer,N=t.cardExpiryInputRenderer,d=t.cardNumberInputRenderer,o=t.cardZipInputRenderer,s=t.dangerTextClassName,C=t.enableZipInput,D=t.fieldStyle,j=t.inputClassName,p=t.inputComponent,y=t.customTextLabels;return r.createElement(x,{className:t.containerClassName},r.createElement(z,{id:"field-wrapper",className:t.fieldClassName,style:D},r.createElement(L,{className:t.cardImageClassName,style:D,src:e.cardImage}),r.createElement(v,{isActive:!0,translateX:!1,"data-max":"9999 9999 9999 9999 9999"},d({inputComponent:p,handleCardNumberChange:function(e){return i.handleCardNumberChange({onChange:e})},handleCardNumberBlur:function(e){return i.handleCardNumberBlur({onBlur:e})},props:I({id:"card-number",ref:function(e){i.cardNumberField=e},maxLength:"19",autoComplete:"cc-number",className:"credit-card-input "+j,placeholder:y.cardNumberPlaceholder||"Card number",type:"tel"},l,{onBlur:i.handleCardNumberBlur(),onChange:i.handleCardNumberChange(),onKeyPress:i.handleCardNumberKeyPress})})),r.createElement(v,{isActive:!0,"data-max":"MM / YY 9",translateX:C&&!a},N({inputComponent:p,handleCardExpiryChange:function(e){return i.handleCardExpiryChange({onChange:e})},handleCardExpiryBlur:function(e){return i.handleCardExpiryBlur({onBlur:e})},props:I({id:"card-expiry",ref:function(e){i.cardExpiryField=e},autoComplete:"cc-exp",className:"credit-card-input "+j,placeholder:y.expiryPlaceholder||"MM/YY",type:"tel"},g,{onBlur:i.handleCardExpiryBlur(),onChange:i.handleCardExpiryChange(),onKeyDown:i.handleKeyDown(i.cardNumberField),onKeyPress:i.handleCardExpiryKeyPress})})),r.createElement(v,{isActive:!0,"data-max":"99999",translateX:C&&!a},c({inputComponent:p,handleCardCVCChange:function(e){return i.handleCardCVCChange({onChange:e})},handleCardCVCBlur:function(e){return i.handleCardCVCBlur({onBlur:e})},props:I({id:"cvc",ref:function(e){i.cvcField=e},maxLength:"5",autoComplete:"off",className:"credit-card-input "+j,placeholder:y.cvcPlaceholder||"CVC",type:"tel"},M,{onBlur:i.handleCardCVCBlur(),onChange:i.handleCardCVCChange(),onKeyDown:i.handleKeyDown(i.cardExpiryField),onKeyPress:i.handleCardCVCKeyPress})})),r.createElement(v,{"data-max":"999999",isActive:C,isZipActive:a,translateX:C&&!a},o({inputComponent:p,handleCardZipChange:function(e){return i.handleCardZipChange({onChange:e})},handleCardZipBlur:function(e){return i.handleCardZipBlur({onBlur:e})},props:I({id:"zip",ref:function(e){i.zipField=e},maxLength:"6",className:"credit-card-input zip-input "+j,pattern:"[0-9]*",placeholder:y.zipPlaceholder||"Zip",type:"text"},u,{onBlur:i.handleCardZipBlur(),onChange:i.handleCardZipChange(),onKeyDown:i.handleKeyDown(i.cvcField),onKeyPress:i.handleCardZipKeyPress})}))),n&&r.createElement(h,{className:s},n))},i.CARD_TYPES=Object.assign({},E,n.CARD_TYPES),i.images=Object.assign({},o,n.images),i.state={cardImage:i.images.placeholder,cardNumberLength:0,cardNumber:null,errorText:null,showZip:!1},i}return i=e,(n=M).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,M}(n.Component);f.defaultProps={cardCVCInputRenderer:b,cardExpiryInputRenderer:b,cardNumberInputRenderer:b,cardZipInputRenderer:b,cardExpiryInputProps:{},cardNumberInputProps:{},cardCVCInputProps:{},cardZipInputProps:{},cardImageClassName:"",cardImageStyle:{},containerClassName:"",containerStyle:{},dangerTextClassName:"",dangerTextStyle:{},enableZipInput:!1,fieldClassName:"",fieldStyle:{},inputComponent:"input",inputClassName:"",inputStyle:{},invalidClassName:"is-invalid",invalidStyle:{},customTextLabels:{}},exports.default=f;
//# sourceMappingURL=react-credit-card-input.cjs.production.min.js.map
